
# Pacman 游戏实现文档

## 项目概述

这是一个基于 Python 和 Pygame 实现的经典 Pacman 游戏。游戏包含了基本的 Pacman 游戏元素，包括玩家控制、幽灵 AI、地图系统等。

## 项目结构

项目采用模块化设计，主要包含以下组件：

### 核心模块

- `src/entities/`: 游戏实体模块
  - `player.py`: 玩家角色实现
  - `ghost.py`: 幽灵角色实现，包含多种 AI 行为模式
- `src/game/`: 游戏核心模块
  - `game.py`: 游戏主循环和逻辑控制
  - `map.py`: 游戏地图定义和管理
  - `pathfinder.py`: 幽灵 AI 寻路算法
  - `constants.py`: 游戏常量定义
  - `utils.py`: 工具函数
- `src/ui/`: 用户界面模块
  - `screens.py`: 菜单和游戏界面实现

## 功能特性

### 1. 游戏控制

- 使用方向键控制 Pacman 移动
- 空格键停止移动
- `esc` 键退出游戏

### 2. 幽灵 AI

实现了四种不同的幽灵行为模式：

- 追逐者 (*CHASER*): 直接追踪玩家
- 伏击者 (*AMBUSHER*): 试图预判并拦截玩家
- 随机漫游 (*RANDOM*): 随机移动
- 包抄者 (*FLANKER*): 试图从侧面包抄玩家

### 3. 地图系统

- 预定义的迷宫地图
- 墙壁、通道和点数的布局
- 玩家和幽灵的出生点

### 4. 用户界面

- 主菜单界面
- 游戏结束界面
- 可选择重试或返回主菜单

## 技术实现

### 1. 寻路算法

使用 Dijkstra 算法实现幽灵的寻路功能。

### 2. 碰撞检测

实现了基于网格的碰撞检测系统，保证游戏角色不会穿墙。

### 3. 游戏状态管理

采用状态机设计管理游戏的不同阶段（菜单、游戏中、结束等）。

## 运行要求

- Python 3.8 或更高版本

## 启动方式

```bash
pip install -r requirements.txt
python main.py
```
